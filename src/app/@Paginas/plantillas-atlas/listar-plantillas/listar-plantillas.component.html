<div *ngIf="textos">
    <div class="table-header" fxLayout="row" fxLayoutAlign="center center">
        <div fxLayout="row" class="item-header" fxFlex="60">
            {{textos.atlas.codigo}}
            <input id="searchbarInput" style="margin-left: 10px;" type="text" placeholder="{{textos.admin_usuarios.buscar}}..." [(ngModel)]="filtro" name="filtro"/>
        </div>
        <div class="item-header" fxFlex="10">{{textos.atlas.plantillaPadre}}</div>
        <div class="item-header" fxFlex="10">{{textos.atlas.posicion}}</div>
        <div class="item-header centrado" fxFlex="10">{{textos.admin_usuarios.estado}}</div>
        <div class="item-header centrado" fxFlex="10">{{textos.admin_usuarios.tabla_roles.acciones}}</div>
    </div>
    <div class="table-content" *ngIf="plantillasOrdenadas">
        <div fxLayout="row" class="fila-content" fxLayoutAlign="start center" *ngFor="let p of plantillasOrdenadas | filtroPlantillaAtlas: filtro | paginate : configPaginador">

            <div class="item-content" fxFlex="60">
                <span class="texto-largo">{{p.codigo}} - {{p.subdominio.description}}</span>
            </div>
            <div class="item-content" fxFlex="10">{{plantillasById.has(p.idPadre) ? plantillasById.get(p.idPadre).codigo : ''}}</div>
            <div class="item-content" fxFlex="10">{{p.posicion}}</div>
            <div class="item-content centrado" fxFlex="10">
                <div [ngClass]="{'registrado': p.estado ==='A','no-registrado': p.estado !=='A'}"></div>
                <span [ngClass]="{'activo' : p.estado ==='A', 'inactivo' : p.estado !=='A'}">
                        {{p.estado === 'A' ? textos.admin_usuarios.activo : textos.admin_usuarios.inactivo}}
                    </span>
            </div>
            <div class="item-content centrado" fxFlex="10">
                <button style="border:none" (click)="openDialogEditar(p)">
                    <svg-icon key="iconoEditar"></svg-icon>
                </button>
                <button style="border:none" (click)="openDialogEliminar(p)">
                    <svg-icon key="iconoEliminar"></svg-icon>
                </button>
            </div>
        </div>

    </div>
    <div fxLayout="row">
        <div fxFlex="15" fxLayout="row" fxLayoutAlign="start end">
            <a class="nuevo-registro" fxFlex (click)="openDialogCrear()">
                <svg-icon key="iconoMas"></svg-icon>
                {{textos.generales.agregar_item}}
            </a>
        </div>

        <div fxFlex>
            <div fxLayout="row" fxLayoutAlign="end">
                <pagination-template #p="paginationApi" [id]="configPaginador.id" (pageChange)="pageChanged($event)">
                    <div class="custom-pagination" fxLayout="row">
                        <div *ngIf="!p.isFirstPage()" class="pagination-previous" [class.disabled]="p.isFirstPage()" (click)="p.previous()">
                            <span>
                            <mat-icon class="flecha">
                                keyboard_arrow_left
                            </mat-icon>
                            </span>
                        </div>
                        <div class="page-number" (click)="p.setCurrent(page.value)" *ngFor="let page of p.pages" [class.current]="p.getCurrent() === page.value">
                            <span *ngIf="p.getCurrent() !== page.value">{{ page.label }}</span>
                            <div *ngIf="p.getCurrent() === page.value">
                                <span>{{ page.label }}</span>
                            </div>
                        </div>
                        <div *ngIf="!p.isLastPage()" class="pagination-next" [class.disabled]="p.isLastPage()" (click)="p.next()">
                            <span *ngIf="!p.isLastPage()" (click)="p.next()">
                            <mat-icon class="flecha">
                                keyboard_arrow_right
                            </mat-icon>
                            </span>
                        </div>
                    </div>
                </pagination-template>
            </div>
        </div>
    </div>
</div>

