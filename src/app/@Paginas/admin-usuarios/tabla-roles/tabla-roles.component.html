<div *ngIf="textos">
  <br>
  <br>

  <div class="table-header" fxLayout="row" fxLayoutAlign="start center">
    <div class="item-header centrado" fxFlex="25">{{textos.admin_usuarios.tabla_roles.rol_asignado}}</div>
    <div class="item-header centrado" fxFlex="25">{{textos.admin_usuarios.permisos}}</div>
    <div class="item-header centrado" fxFlex="25">{{textos.admin_usuarios.estado}}</div>
    <div class="item-header centrado" fxFlex>{{textos.admin_usuarios.tabla_roles.acciones}}</div>
  </div>

  <div class="table-content">
    <div fxLayout="row" class="fila-content" fxLayoutAlign="start center" *ngFor="let rol of roles | paginate : configPaginador">
      <div class="item-content centrado" fxFlex="25">{{rol.name}}</div>
      <div class="item-content centrado" fxFlex="25">{{textos.admin_usuarios.tabla_roles.rol_asignado}}</div>
      <div class="item-content centrado" fxFlex="25">
        <div>
          <label class="switch">
            <input type="checkbox" (change)="cambiarEstado(rol)" [value]="rol.state ==='A' ? true : false"
                   [checked]="rol.state ==='A' ? true : false">
            <span class="slider round"></span>
          </label>
          <span [ngClass]="{'activo' : rol.state ==='A', 'inactivo' : rol.state ==='I'}">
                      {{rol.state ==='A' ? textos.admin_usuarios.activo : textos.admin_usuarios.inactivo}}
                  </span>
        </div>
      </div>
      <div class="item-content centrado" fxFlex="25">
        <button class="butt" style="float: left; margin-left: 100px;" (click)="openDialogEditRol(rol)">
          <mat-icon class="iconoEditar" svgIcon="iconoEditar"></mat-icon>
        </button>
        <button class="butt" style="margin-left: -100px;" *ngIf="!validElim(rol.cantUsuarios)" (click)="openDialogEliminarRol(rol)">
          <mat-icon class="iconoEliminar" svgIcon="iconoEliminar"></mat-icon>
        </button>
        <button class="butt" *ngIf="validElim(rol.cantUsuarios)">
        </button>
      </div>
    </div>

  </div>
  <div class="nuevoItem" fxLayout="row">
    <div fxFlex="15" fxLayout="row" fxLayoutAlign="start end">
      <a class="nuevo-registro" (click)="openDialogNuevRol()" fxFlex>
        <mat-icon class="iconoMas" svgIcon="iconoMas"></mat-icon>
        {{textos.generales.agregar_item}}
      </a>
    </div>
    <div fxFlex>
      <div fxLayout="row" fxLayoutAlign="end">
        <pagination-template #p="paginationApi" [id]="configPaginador.id" (pageChange)="pageChanged($event)">
          <div class="custom-pagination" fxLayout="row">
            <div *ngIf="!p.isFirstPage()" class="pagination-previous" [class.disabled]="p.isFirstPage()" (click)="p.previous()">
                          <span>
                              <mat-icon class="flecha">
                                  keyboard_arrow_left
                              </mat-icon>
                          </span>
            </div>
            <div class="page-number" (click)="p.setCurrent(page.value)" *ngFor="let page of p.pages" [class.current]="p.getCurrent() === page.value">
              <span *ngIf="p.getCurrent() !== page.value">{{ page.label }}</span>
              <div *ngIf="p.getCurrent() === page.value">
                <span>{{ page.label }}</span>
              </div>
            </div>
            <div *ngIf="!p.isLastPage()" class="pagination-next" [class.disabled]="p.isLastPage()" (click)="p.next()">
                          <span *ngIf="!p.isLastPage()" (click)="p.next()">
                              <mat-icon class="flecha">
                                  keyboard_arrow_right
                              </mat-icon>
                          </span>
            </div>
          </div>
        </pagination-template>
      </div>
    </div>
  </div>
</div>
