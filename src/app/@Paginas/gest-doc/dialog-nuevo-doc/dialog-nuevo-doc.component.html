<div fxLayout="row" fxLayoutAlign="end">
    <mat-icon mat-dialog-close>
        close
    </mat-icon>
</div>
<div class="modal-body">
    <div fxLayout="row" fxLayoutAlign="center">
        <form class="formulario" [formGroup]="formRegistro">
            <h1 class="titulo">{{textos.gest_doc_privados.nuevo_doc.agregarCarpeta}}</h1>
            <div class="fila" fxLayout="row" fxLayout.xs="column">
                <div fxFlex="30" class="item">{{textos.gest_doc_privados.nuevo_doc.nombreCarpeta}}</div>
                <div fxFlex="70">
                    <div class="form-textarea">
                        <textarea class="textarea" #nombr maxlength="50" (keypress)="omitSpecialChar($event)" matInput [ngClass]="{'inputInvalid': (nombr.value.trim()==='') && guardar}" required></textarea>
                        <div class="icon-cerrar">
                            <mat-icon class="cerrar" (click)="nombr.value = ''">
                                close
                            </mat-icon>
                        </div>
                    </div>
                    <div class="validacion validacion-textarea" *ngIf="nombr.value.trim()==='' && guardar">
                        <span class="mensaje">{{textos.generales.campo_obligatorio}}</span>
                    </div>
                </div>

            </div>
            <div style="height: 111px;" class="fila" fxLayout="row" fxLayout.xs="column" style="flex-direction: row; box-sizing: border-box; display: flex;">
                <div fxFlex="30" style="max-width: 30%;" class="item">{{textos.gest_doc_privados.nuevo_doc.archivos}}</div>
                <div fxFlex="70">
                    <div class="form-campo">
                        <div class="box-imagen" (click)="imagen.click()">
                            <div class="item-imagen">
                                <svg type="file" style="width: 80px; height: 80px;  " xmlns="http://www.w3.org/2000/svg" width="55.382" height="37.824" viewBox="0 0 55.382 37.824">
                                <g>
                                    <path fill="none" stroke="#004a9c" stroke-width="2px"
                                        d="M-69.754-131.408c-.316 0-.633.01-.949.032a14.844 14.844 0 0 0-4.868-6.215 15.014 15.014 0 0 0-8.994-2.949 14.82 14.82 0 0 0-14.951 14.652v.235a10.58 10.58 0 0 0-10.009 10.458 10.593 10.593 0 0 0 10.681 10.479h29.086a13.5 13.5 0 0 0 13.618-13.346 13.5 13.5 0 0 0-13.614-13.346zm0 23.476h-29.087a7.375 7.375 0 0 1-7.466-7.262 7.375 7.375 0 0 1 7.466-7.263 7.751 7.751 0 0 1 .889.06 1.6 1.6 0 0 0 1.339-.477 1.606 1.606 0 0 0 .438-1.352 11.548 11.548 0 0 1-.125-1.663 11.6 11.6 0 0 1 11.735-11.435 11.77 11.77 0 0 1 11.245 8.163 1.605 1.605 0 0 0 1.8 1.115 10.69 10.69 0 0 1 1.762-.146 10.279 10.279 0 0 1 10.4 10.131 10.277 10.277 0 0 1-10.396 10.129z"
                                        transform="translate(110.522 141.54)" />
                                    <path fill="#004a9c"
                                        d="M-71.807-127.479a.989.989 0 0 0-.674-.279l-6.643-.03a.957.957 0 0 0-.956.952.945.945 0 0 0 .277.672.947.947 0 0 0 .671.283l4.34.019-10.91 10.821a.951.951 0 0 0-.285.675.946.946 0 0 0 .279.676.946.946 0 0 0 .674.285.95.95 0 0 0 .672-.278l10.91-10.821-.019 4.34a.958.958 0 0 0 .273.677.929.929 0 0 0 .661.279h.019a.952.952 0 0 0 .673-.275.952.952 0 0 0 .282-.676l.029-6.643a.953.953 0 0 0-.273-.677z"
                                        transform="translate(110.522 141.54) translate(-5.165 .285)" />
                                </g>
                            </svg>

                            </div>
                        </div>
                        <input #imagen style="display: none;" class="campo" (change)="onFileChange($event)" type="file" multiple/>
                        <div style="margin-top: 8px;">
                            <div class="enlaces" *ngFor="let imagen of listArch; index as i">
                                <div class="box-enlaces">
                                    <p class="enlace">
                                        {{imagen.nombre}}
                                    </p>
                                </div>
                                <mat-icon (click)="eliminarArchivo( i)" class="ico-borrar">cancel</mat-icon>
                                <br>
                            </div>

                        </div>
                        <mat-error *ngIf="listArch.length === 0 && guardar2">
                            {{textos.gest_doc_privados.nuevo_doc.v_carga_archivo}}
                        </mat-error>
                    </div>
                </div>

            </div>


            <div class="botones" style="display: flex; place-content: stretch center;" fxLayout="row" fxLayoutAlign="center" fxLayoutGap="24px">
                <button style="border-right: 20px;" (click)="guardarFolder(nombr.value)" class="btn btn-guardar" type="button">{{textos.generales.guardar}}</button>
                <button class="btn btn-cancelar" mat-dialog-close>{{textos.generales.cancelar}}</button>
            </div>
            <div fxLayout="row" *ngFor="let selected of listOfFiles;let index = index">
                <h3>{{selected}}</h3>
                <button mat-icon-button (click)="removeSelectedFile(index)">delete</button>
            </div>
        </form>
    </div>
</div>