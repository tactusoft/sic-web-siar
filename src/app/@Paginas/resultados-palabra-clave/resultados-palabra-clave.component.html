<div *ngIf="palabraClaveInfo">
  <div fxLayout="column" fxFlex="100">
    <!--Migas de pan-->
    <div class="miga-de-pan" fxLayout="row">
      <svg-icon key="flechaRetorno"></svg-icon>

      <a class="enlace" [routerLink]="['']">{{palabraClaveInfo.generales.inicio}}</a>

      <mat-icon class="azul">keyboard_arrow_right</mat-icon>

      <a
          class="enlace"
          [routerLink]="['/resultadosPalabraClave']"
          [routerLinkActive]="['link_activo']"
      >{{palabraClaveInfo.resultados_palabra_clave.resultadosBusqueda}}</a>
    </div>

    <br>

    <!--Resultados-->
    <div fxLayout="column" fxLayoutAlign="start center">
      <div
          *ngFor="let resultado of resultados | paginate: configPaginador"
          class="tarjeta-resultado"
          (click)="redirigir(resultado.tipo)"
          fxLayout="column">
        <p
            class="titulo-resultado"
            [innerHTML]="resultado.title | resaltarPalabraEnTitulo : palabrasBuscadas">
        </p>

        <p
            class="texto-resultado"
            [innerHTML]="resultado.summary | resaltarPalabraEnTexto : palabrasBuscadas">
        </p>

        <div [ngSwitch]="resultado.tipo">
          <p class="tipo-resultado" *ngSwitchCase="'news'">{{palabraClaveInfo.resultados_palabra_clave.noticia}}</p>
          <p class="tipo-resultado" *ngSwitchCase="'event'">{{palabraClaveInfo.resultados_palabra_clave.evento}}</p>
          <p class="tipo-resultado" *ngSwitchCase="'alert'">{{palabraClaveInfo.resultados_palabra_clave.alerta}}</p>
          <p class="tipo-resultado" *ngSwitchCase="'document'">{{palabraClaveInfo.resultados_palabra_clave.documento}}</p>
          <p class="tipo-resultado" *ngSwitchCase="'course'">{{palabraClaveInfo.resultados_palabra_clave.curso}}</p>
          <p class="tipo-resultado" *ngSwitchDefault></p>
        </div>
      </div>
    </div>


    <div fxLayout="row" fxLayoutAlign="end">
      <pagination-template
          #p="paginationApi"
          [id]="configPaginador.id"
          (pageChange)="pageChanged($event)">
        <div class="custom-pagination" fxLayout="row">
          <div
              *ngIf="!p.isFirstPage()"
              class="pagination-previous"
              [class.disabled]="p.isFirstPage()"
              (click)="p.previous()">
            <span>
              <mat-icon class="flecha">keyboard_arrow_left</mat-icon>
            </span>
          </div>

          <div
              class="page-number"
              (click)="p.setCurrent(page.value)"
              *ngFor="let page of p.pages"
              [class.current]="p.getCurrent() === page.value">
            <span *ngIf="p.getCurrent() !== page.value">{{ page.label }}</span>

            <div *ngIf="p.getCurrent() === page.value">
              <span>{{ page.label }}</span>
            </div>
          </div>

          <div
              *ngIf="!p.isLastPage()"
              class="pagination-next"
              [class.disabled]="p.isLastPage()"
              (click)="p.next()">
            <span *ngIf="!p.isLastPage()" (click)="p.next()">
              <mat-icon class="flecha">keyboard_arrow_right</mat-icon>
            </span>
          </div>
        </div>
      </pagination-template>
    </div>
  </div>
</div>
