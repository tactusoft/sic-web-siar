<div class="main-doc-public">
    <div fxLayout="row">
        <svg-icon key="flechaRetorno"></svg-icon>
        <span class="enlace">
            <a [routerLink]="['']">{{documentosInfo.generales.inicio}}</a>
        </span>
        <mat-icon class="icono">
            keyboard_arrow_right
        </mat-icon>
        <span class="enlace">
            <a [routerLink]="['/documentos']"
                [routerLinkActive]="['link-activo']">{{documentosInfo.documentos.documentos_publi}}</a>
        </span>
    </div>
    <div class="filtro" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="end center" fxlayoutalign.xs="start" fxLayoutGap="58px" fxLayoutGap.xs="0">
        <span fxFlex="50" class="lblFiltrar">{{documentosInfo.documentos.filtar_por}}:</span>
        <div class="box" fxFlex>
            <form [formGroup]="formFiltro">
                <mat-form-field appearance="outline">
                    <mat-label>{{documentosInfo.documentos.pais}}</mat-label>
                    <mat-select formControlName="pais" multiple (valueChange)=" bPais.value = ''" class="asdasd">
                        <input class="campo-buscar" [formControl]="buscarPais" matInput placeholder="Buscar" #bPais value="">
                        <mat-option disableRipple #option [ngClass]="optionPais(item.id, option)" [ngClass]="{'ocultar': !mostrar(buscarPais.value, item.descripcion),'option-selected' : option._getAriaSelected()}" [value]="item" *ngFor="let item of paisesList">
                            {{getDescripcionPais(item)}}
                            <span class="cantidad">{{item.cantidad}}</span>
                        </mat-option>
                    </mat-select>
                    <mat-icon class="icono-select">
                        expand_more
                    </mat-icon>
                </mat-form-field>
            </form>
        </div>
        <div class="box" fxFlex>
            <form [formGroup]="formFiltro">
                <mat-form-field appearance="outline">
                    <mat-label>{{documentosInfo.documentos.categoria}}</mat-label>
                    <mat-select formControlName="categoria" multiple (valueChange)=" bTipo.value=''">
                        <input class="campo-buscar" [formControl]="buscarCategoria" matInput placeholder="Buscar" #bTipo value="">
                        <mat-option [ngClass]="optionTipo(item.id, option)" [ngClass]="{'ocultar': !mostrar(buscarCategoria.value, item.descripcion),'option-selected' : option._getAriaSelected()}" #option [value]="item" *ngFor="let item of categoriaList">
                            {{getDescripcionCategoria(item)}}
                            <span class="cantidad">{{item.cantidad}}</span>
                        </mat-option>
                    </mat-select>
                    <mat-icon class="icono-select">
                        expand_more
                    </mat-icon>
                </mat-form-field>
            </form>
        </div>
    </div>
    <br>
    <div fxLayout="row" fxLayoutAlign="end" *ngIf="mostrarLimpiarFiltro()">
        <mat-accordion fxFlex>
            <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{documentosInfo.documentos.resumen_filtro}}
                    </mat-panel-title>
                    <mat-panel-description fxLayout="row" fxLayoutAlign="end">

                    </mat-panel-description>
                </mat-expansion-panel-header>
                <div>
                    <div fxFlex="50">
                        <h4></h4>
                        <mat-chip-list class="chips" #chipList>
                            <mat-chip [removable]="true" (removed)="removePais(item.id)" *ngFor="let item of paisesInput">
                                {{getDescripcionPais(item)}}
                                <mat-icon matChipRemove *ngIf="true">cancel</mat-icon>
                            </mat-chip>
                        </mat-chip-list>
                    </div>
                    <div fxFlex="50">
                        <h4>{{documentosInfo.documentos.catego}}</h4>
                        <mat-chip-list class="chips" #chipListTipo>
                            <mat-chip [removable]="true" (removed)="removeCategoria(item.id)" *ngFor="let item of categoriaInput">
                                {{getDescripcionCategoria(item)}}
                                <mat-icon matChipRemove *ngIf="true">cancel</mat-icon>
                            </mat-chip>
                        </mat-chip-list>
                    </div>
                    <div fxFlex fxLayout="row" fxLayoutAlign="center center">
                        <button (click)="limpiarFiltro()" class="btn-noticias">{{documentosInfo.documentos.limpiar}}</button>
                    </div>
                </div>

                <p style="text-align: center;">{{documentosInfo.documentos.documentos_encon}}:
                    <span>{{configPaginador.totalItems}}</span></p>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
    <div fxLayout="row wrap">
        <div fxLayout="row" class="documentos" fxLayout.xs="column" fxFlex="50" fxFlex.gt-sm="25" fxFlex.gt-xs="33" fxLayoutAlign="space-between" *ngFor="let documento of documentos| paginate: configPaginador">
            <app-tarjeta-documentos class="tarjeta-documento" [documento]="documento" [listaPaises]="paisesListIdioma" [listaCategorias]="categoriasListIdioma">
            </app-tarjeta-documentos>
        </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="end" class="divPagination">
        <pagination-template #p="paginationApi" [id]="configPaginador.id" (pageChange)="pageChanged($event)">
            <div class="custom-pagination" fxLayout="row">
                <div *ngIf="!p.isFirstPage()" class="pagination-previous" [class.disabled]="p.isFirstPage()" (click)="p.previous()">
                    <span>
                        <mat-icon class="flecha">
                            keyboard_arrow_left
                        </mat-icon>
                    </span>
                </div>
                <div class="page-number" (click)="p.setCurrent(page.value)" *ngFor="let page of p.pages" [class.current]="p.getCurrent() === page.value">
                    <span *ngIf="p.getCurrent() !== page.value">{{ page.label }}</span>
                    <div *ngIf="p.getCurrent() === page.value">
                        <span>{{ page.label }}</span>
                    </div>
                </div>
                <div *ngIf="!p.isLastPage()" class="pagination-next" [class.disabled]="p.isLastPage()" (click)="p.next()">
                    <span *ngIf="!p.isLastPage()" (click)="p.next()">
                        <mat-icon class="flecha">
                            keyboard_arrow_right
                        </mat-icon>
                    </span>
                </div>
            </div>
        </pagination-template>
    </div>
</div>